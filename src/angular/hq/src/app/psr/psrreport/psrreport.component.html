<div class="px-5 py-2">
  <div
    class="flex flex-col xl:flex-row justify-between items-center gap-4 sm:flex-row"
  >
    <div>
      <hq-psr-search-filter></hq-psr-search-filter>
    </div>
    <div class="flex divide-x ml-aut float-right mt-3">
      @if (
        [HQRole.Manager, HQRole.Partner, HQRole.Administrator] | inRole | async
      ) {
        <button
          [disabled]="submitButtonState === ButtonState.Disabled"
          [ngClass]="{
            'text-gray-50 border-gray-500 bg-gray-500 ':
              submitButtonState === ButtonState.Disabled,
            'text-white border-orange-500 bg-orange-500 hover:bg-orange-600 hover:border-orange-600':
              submitButtonState === ButtonState.Enabled,
          }"
          class="px-2 py-2 border rounded min-w-[120px] font-normal"
          (click)="onReportSubmit()"
        >
          Submit
        </button>
      }
    </div>
  </div>
</div>
<div
  class="bg-black-alt border-steel-blue-600 border-t sticky top-0 z-50"
></div>
<div class="bg-black-alt">
  <div
    class="flex flex-col xl:flex-row justify-between items-end gap-4 sm:flex-row px-3 py-1"
  >
    <div class="font-open-sans text-nav-disabled text-xs font-bold uppercase">
      {{ currentDate | date: "EEEE MM/dd/yyyy" }}
    </div>
    <div class="flex ml-aut float-right gap-2">
      <button>
        <i title="Download report" class="bi bi-cloud-download-fill text-white"></i>
      </button>
      <button
        title="Insert Previous Report"
        [disabled]="prevPSRReportButtonState === ButtonState.Disabled"
        [ngClass]="{
          'text-gray-50 ': prevPSRReportButtonState === ButtonState.Disabled,
        }"
        (click)="insertTextAtCursor()"
      >
        <i title="Insert" class="bi bi-textarea-t"></i>
      </button>
    </div>
  </div>
</div>

<div class="h-screen w-screen">
  <hq-panel Direction="vertical"  [CSizes]="[30, 70]">
    <hq-panel first Direction="horizontal" [CSizes]="[50, 50]">
      <ngx-monaco-editor
        first
        [ngStyle]="{ height: '100%' }"
        [options]="editorOptions$ | async"
        [formControl]="report"
        (onInit)="onEditorInit($event)"
      ></ngx-monaco-editor>

      <div class="bg-black-alt h-full" second>
        <hq-markdown [data]="report$ | async"></hq-markdown>
      </div>
    </hq-panel>
    <hq-psrtime-list second></hq-psrtime-list>
  </hq-panel>
</div>
